---
title: ceph和gfs对比测试结果
date: 2022-06-09 10:28:13
tags:
categories: 存储
---

##### 存储性能测试

<!-- more -->

| 测试项目                           | 随机写**（IOPS）** | 顺序写**（吞吐量）** |
| ---------------------------------- | ------------------ | -------------------- |
| /data    （本地磁盘测试）          | 4291               | 146MiB               |
| gfs        （gfs卷挂载到本地测试） | 4249               | 93.9MiB              |
| ceph    （ceph挂载到本地测试）     | 4283               | 127MiB               |

## 分配1G内存测试

#### 数据库读写性能测试

| 正常rainbond创建组件测试 | 内存 | QPS      | RT      |
| ------------------------ | ---- | -------- | ------- |
| gfs                      | 1G   | 1578.73  | 78.84   |
| cephfs                   | 1G   | 1773.71  | 88.63   |
| ceph-block               | 1G   | 1514.46  | 75.67   |
| 消除rainbond组件环境限制 | 内存 | QPS      | RT      |
| gfs                      | 1G   | 4600.22  | 230.01  |
| ceph                     | 1G   | 18095.08 | 904.74  |
| ceph-block               | 1G   | 24852.58 | 1242.62 |

#### 数据库只读性能测试

| 正常rainbond创建组件测试 | 内存 | QPS      | RT      |
| ------------------------ | ---- | -------- | ------- |
| gfs                      | 1G   | 1968     | 140.57  |
| cephfs                   | 1G   | 2019.04  | 144.22  |
| ceph-block               | 1G   | 1618.67  | 115.62  |
| 消除rainbond组件环境限制 | 内存 | QPS      | RT      |
| gfs                      | 1G   | 27297.51 | 1949.82 |
| cephfs                   | 1G   | 46727.40 | 3337.67 |
| ceph-block               | 1G   | 47868.63 | 3419.19 |

#### 数据库只写性能测试

| 正常rainbond创建组件测试 | 内存 | TPS      | RT      |
| ------------------------ | ---- | -------- | ------- |
| gfs                      | 1G   | 1689.43  | 281.44  |
| cephfs                   | 1G   | 1387.01  | 231.07  |
| ceph-block               | 1G   | 1524.59  | 253.98  |
| 消除rainbond组件环境限制 | 内存 | TPS      | RT      |
| gfs                      | 1G   | 3431.19  | 571.87  |
| cephfs                   | 1G   | 10037.80 | 1672.94 |
| ceph-block               | 1G   | 15871.30 | 2645.17 |

## 分配2G内存测试

#### 数据库读写性能测试

| 正常rainbond创建组件测试 | 内存 | QPS      | RT      |
| ------------------------ | ---- | -------- | ------- |
| gfs                      | 2G   | 1747.84  | 87.32   |
| cephfs                   | 2G   | 1443.95  | 72.12   |
| ceph-block               | 2G   | 1508.18  | 75.38   |
| 消除rainbond组件环境限制 | 内存 | QPS      | RT      |
| gfs                      | 2G   | 4960.12  | 248.01  |
| cephfs                   | 2G   | 18466.87 | 923.33  |
| ceph-block               | 2G   | 24313.80 | 1215.68 |

#### 数据库只读性能测试

| 正常rainbond创建组件测试 | 内存 | QPS      | RT      |
| ------------------------ | ---- | -------- | ------- |
| gfs                      | 2G   | 1955.06  | 139.65  |
| cephfs                   | 2G   | 1485.79  | 106.13  |
| ceph-block               | 2G   | 1663.10  | 118.79  |
| 消除rainbond组件环境限制 | 内存 | QPS      | RT      |
| gfs                      | 2G   | 28345.14 | 2024.65 |
| cephfs                   | 2G   | 46298.51 | 3307.04 |
| ceph-block               | 2G   | 47795.73 | 3413.98 |

#### 数据库只写性能测试

| 正常rainbond创建组件测试 | 内存 | TPS      | RT      |
| ------------------------ | ---- | -------- | ------- |
| gfs                      | 2G   | 1757.65  | 292.85  |
| cephfs                   | 2G   | 1651.41  | 275.11  |
| ceph-block               | 2G   | 1489.15  | 248.05  |
| 消除rainbond组件环境限制 | 内存 | TPS      | RT      |
| gfs                      | 2G   | 3733.67  | 622.28  |
| cephfs                   | 2G   | 10107.03 | 1684.47 |
| ceph-block               | 2G   | 15936.48 | 2656.03 |

## 分配4G内存测试

#### 数据库读写性能测试

| 正常rainbond创建组件测试 | 内存 | QPS      | RT      |
| ------------------------ | ---- | -------- | ------- |
| gfs                      | 4G   | 1774.29  | 88.63   |
| cephfs                   | 4G   | 1470.74  | 73.45   |
| ceph-block               | 4G   | 1653.10  | 82.62   |
| 消除rainbond组件环境限制 | 内存 | QPS      | RT      |
| gfs                      | 4G   | 5256.70  | 262.84  |
| cephfs                   | 4G   | 18408.52 | 920.41  |
| ceph-block               | 4G   | 24333.92 | 1216.68 |

#### 数据库只读性能测试

| 正常rainbond创建组件测试 | 内存 | QPS      | RT      |
| ------------------------ | ---- | -------- | ------- |
| gfs                      | 4G   | 1964.25  | 140.30  |
| cephfs                   | 4G   | 1496.51  | 106.89  |
| ceph-block               | 4G   | 1611.50  | 115.11  |
| 消除rainbond组件环境限制 | 内存 | QPS      | RT      |
| gfs                      | 4G   | 28524.40 | 2037.46 |
| cephfs                   | 4G   | 46614.81 | 3329.63 |
| ceph-block               | 4G   | 47167.30 | 3369.09 |

#### 数据库只写性能测试

| 正常rainbond创建组件测试 | 内存 | TPS      | RT      |
| ------------------------ | ---- | -------- | ------- |
| gfs                      | 4G   | 1624.56  | 270.64  |
| cephfs                   | 4G   | 1489.19  | 248.09  |
| ceph-block               | 4G   | 1510.36  | 251.61  |
| 消除rainbond组件环境限制 | 内存 | TPS      | RT      |
| gfs                      | 4G   | 3765.16  | 627.53  |
| cephfs                   | 4G   | 9993.07  | 1665.49 |
| ceph-block               | 4G   | 15923.18 | 2653.80 |

